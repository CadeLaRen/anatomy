<div class="container-fluid">
  <div class="row header">
    <div class="col-sm-12 col-md-10 col-md-offset-1">
        <h1>
          <span>{{user ? user + ' - ' : ''}}</span>
          <span ng-bind="category.name"></span>
        </h1>
      <span class="col-sm-9">
        <div category-progress skills="{{stats}}"></div>
      </span>
      <span class="col-sm-3">
        <a href="/practice/{{category.identifier}}/" 
          class="btn btn-default btn-lg" 
          translate
          track-click="overview practice" >
          Procviƒçovat
        </a>
        <br>
        <br>
      </span>
    </div>
  </div>
</div>
<div ng-hide="(contexts && statsLoaded) || error" class="loading-indicator"></div>
<div class="table table-striped col-sm-12">
<br>
    <div class="row table-row {{activeContext==context && 'active'}}"
      ng-if="context.stats && context.stats.number_of_flashcards"
      ng-repeat="context in contexts">
      <span class="col-md-5 col-md-offset-1 col-sm-6"
        ng-click="activateContext(context)" >
        <a ng-if="userService.user.staff"
          class="pull-left"
          href="/view/{{category.identifier}}/?context={{context.identifier}}">
          <i class="glyphicon glyphicon-picture" ></i>
        </a>
        <h3 class="image-list-title">
          {{context.name || '[MISSING]'}}
        </h3>
        <a ng-if="userService.user.staff"
          class="pull-right"
          href="http://znackuj.anatom.cz/image/{{context.identifier}}">
          <i class="glyphicon glyphicon-edit" ></i>
        </a>
        <a ng-if="userService.user.staff"
          class="pull-right"
          href="/practice/{{category.identifier}}/?context={{context.identifier}}">
          <i class="glyphicon glyphicon-check" ></i>
        </a>
      </span>
      <span class="col-md-5 col-sm-6"
        ng-click="activateContext(context)" >
        <div category-progress skills="{{context.stats}}"
          hide-labels="{{activeContext!=context}}"></div>
      </span>
      <div class="clearfix"></div>
      <div ng-if="activeContext==context" class="col-md-10 col-md-offset-1 col-sm-12">
        <div ng-hide="context.flashcards && context.content" class="loading-indicator">
        </div>
        <span>
          <span page-number="{{context.content.meta['textbook-page']}}"></span>
          <span anatomy-image code="{{context.identifier}}" ></span>
        </span>
        <span ng-hide="loading" class="terms-container"
            ng-class="{'few-terms': context.flashcards.length &lt; 15}">
          <span class="label label-default"
            ng-repeat="flashcard in context.flashcards"
            ng-class="{'btn-info' : flashcard.term == activeTerm}"
            ng-click="imageController.clearHighlights();imageController.highlightItem(flashcard.description)"
            ng-mouseenter="imageController.hoverIn(flashcard.description)"
            ng-mouseleave="imageController.hoverOut(flashcard.description)"
            term-label
            ng-bind="flashcard.term.name | stripAlternatives" >
          </span>
        </span>
    </div>
</div>

